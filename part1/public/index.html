<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dog Walk Service</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body {
            background-color: lawngreen;
        }

        h1 {
            color: green;
            margin-bottom: 50vh;
        }
    </style>
</head>

<body>
    <div id="container">
        <h1>This is a service whereby you, the user can request for one of our registered student dog walkers to walk
            your
            dog for you<button @click="step=1">
                Continue
            </button></h1>


        <div v-if="step===1">

            <p>We can show you our dog of the day if you like! To do so, click on on the button below which will load
                the
                image and some details about today's dog!</p>

            <button @click="fetchDogImg">
                Click here
            </button>
        </div>

        <img :src="dogImg" style="height: 100px;">

    </div>

    <script>
        const { createApp } = Vue;
        createApp({
            data() {
                return {
                    dogImg: null,
                    step: 0
                };
            },
            methods: {
                async fetchDogImg() {
                    try {

                        const imgRes = await fetch('https://dog.ceo/api/breeds/image/random');
                        const img = await imgRes.json();
                        this.dogImg = img.message;
                        console.log(img);

                    } catch (err) {
                        console.error('Error fetching dog image: ', err);
                    }
                }
            }
        }).mount('#container');
    </script>
</body>

</html>