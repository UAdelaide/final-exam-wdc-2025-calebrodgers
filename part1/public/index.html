<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dog Walk Service</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body {
            background-color: lawngreen;
            color: green;
        }

        #dogofday {
            padding-top: 60vh;
        }
    </style>
</head>

<body>
    <div id="container">
        <div id="top"></div>
        <h1>This is a service whereby you, the user can request for one of our registered student dog walkers to walk
            your
            dog for you
            <button v-if="step===0" @click="step=1">
                Continue
            </button>
        </h1>

        <div id="dogofday">
            <div v-if="step===1">

                <p>We can show you our dog of the day if you like! To do so, click on on the button below which will
                    load
                    the
                    image and some details about today's dog!</p>

                <button @click="fetchDogImg">
                    Click here
                </button>
            </div>

            <div v-if="step===2">
                <p>The dog of the day today is Mr Pickles. Mr Pickles is a Western Deerhound Collie (WDC). Mr Pickles
                    like
                    eating. Click on Mr Pickles to log in or sign up to our service.</p>
            </div>

            <img :src="dogImg" style="height: 500px;" onclick="">

        </div>
    </div>

    <script>
        const { createApp } = Vue;
        createApp({
            data() {
                return {
                    dogImg: null,
                    step: 0
                };
            },
            methods: {
                async fetchDogImg() {
                    try {

                        const imgRes = await fetch('https://dog.ceo/api/breeds/image/random');
                        const img = await imgRes.json();
                        this.dogImg = img.message;
                        this.step = 2;

                    } catch (err) {
                        console.error('Error fetching dog image: ', err);
                    }
                }
            }
        }).mount('#container');
    </script>
</body>

</html>